<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/fmasa/ros2_ws/src/test_ros2_navigation/robot_description/urdf/gamma/orne_gamma.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!-- Revolute-Revolute Manipulator -->
<robot name="orne_gamma" xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller" xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface">
   <material name="black">
      <color rgba="0.0 0.0 0.0 1.0"/>
   </material>
   <material name="brown">
      <color rgba="0.8705882352941177 0.8117647058823529 0.7647058823529411 1.0"/>
   </material>
   <material name="red">
      <color rgba="0.8 0.0 0.0 1.0"/>
   </material>
   <material name="orange">
      <color rgba="1.0 0.4235294117647059 0.0392156862745098 1.0"/>
   </material>
   <material name="yellow">
      <color rgba="0.8 0.8 0.0 1.0"/>
   </material>
   <material name="green">
      <color rgba="0.0 0.8 0.0 1.0"/>
   </material>
   <material name="cyan">
      <color rgba="0.0 0.8 0.8 1.0"/>
   </material>
   <material name="bule">
      <color rgba="0.0 0.0 0.8 1.0"/>
   </material>
   <material name="purple">
      <color rgba="0.8 0.0 0.8 1.0"/>
   </material>
   <material name="gray">
      <color rgba="0.5 0.5 0.5 1.0"/>
   </material>
   <material name="white">
      <color rgba="1.0 1.0 1.0 1.0"/>
   </material>
   <xacro:arg name="laser_visual"  default="true"/>
   <xacro:arg name="camera_visual" default="true"/>
   <xacro:arg name="imu_visual"    default="false"/>
   <!-- ros_control plugin -->
   <gazebo>
    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
      <robotSimType>icart_mini_gazebo/ICartMiniHWSim</robotSimType> 
          <robotNamespace>orne_gamma</robotNamespace>
      <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
    </plugin>
   </gazebo>
   <gazebo>
      <plugin filename="libgazebo_ros_diff_drive.so" name="gazebo_ros_control">
         <robotNamespace>orne_gamma</robotNamespace>
         <commandTopic>/cmd_vel</commandTopic>
         <odometryTopic>/odom</odometryTopic>
         <odometryFrame>odom</odometryFrame>
         <odometrySource>world</odometrySource>
         <publishOdomTF>true</publishOdomTF>
         <robotBaseFrame>base_footprint</robotBaseFrame>
         <publishWheelTF>true</publishWheelTF>
         <publishTf>true</publishTf>
         <publishWheelJointState>true</publishWheelJointState>
         <legacyMode>false</legacyMode>
         <updateRate>30</updateRate>
         <leftJoint>left_wheel_joint</leftJoint>
         <rightJoint>right_wheel_joint</rightJoint>
         <wheelSeparation>0.4615</wheelSeparation>
         <wheelDiameter>0.145</wheelDiameter>
         <wheelAcceleration>1</wheelAcceleration>
         <wheelTorque>10</wheelTorque>
         <rosDebugLevel>na</rosDebugLevel>
      </plugin>
   </gazebo>
   <!-- Base Link -->
   <gazebo reference="base_link">
      <material>Gazebo/Black</material>
   </gazebo>
   <!-- Left Wheel -->
   <gazebo reference="left_wheel">
      <!-- <mu1>2.5</mu1>
    <mu2>2.5</mu2> -->
      <mu1>1.0</mu1>
      <mu2>1.0</mu2>
      <kp>1000000.0</kp>
      <kd>100.0</kd>
      <minDepth>0.001</minDepth>
      <maxVel>1.0</maxVel>
      <material>Gazebo/Orange</material>
   </gazebo>
   <!-- Right Wheel -->
   <gazebo reference="right_wheel">
      <!-- <mu1>2.5</mu1>
    <mu2>2.5</mu2> -->
      <mu1>1.0</mu1>
      <mu2>1.0</mu2>
      <kp>1000000.0</kp>
      <kd>100.0</kd>
      <minDepth>0.001</minDepth>
      <maxVel>1.0</maxVel>
      <material>Gazebo/Orange</material>
   </gazebo>
   <!--gazebo reference="caster">
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <minDepth>0.001</minDepth>
    <maxVel>1.0</maxVel>

    <material>Gazebo/Orange</material>
  </gazebo-->
   <!-- hokuyo -->
   <gazebo reference="hokuyo_link">
      <sensor name="head_hokuyo_sensor" type="ray">
         <pose>0 0 0 0 0 0</pose>
         <visualize>false</visualize>
         <update_rate>40</update_rate>
         <ray>
            <scan>
               <horizontal>
                  <samples>720</samples>
                  <resolution>1</resolution>
                  <min_angle>-1.570796</min_angle>
                  <max_angle>1.570796</max_angle>
               </horizontal>
            </scan>
            <range>
               <min>0.10</min>
               <max>30.0</max>
               <resolution>0.01</resolution>
            </range>
            <noise>
               <type>gaussian</type>
               <!-- Noise parameters based on published spec for Hokuyo laser
               achieving "+-30mm" accuracy at range < 10m.  A mean of 0.0m and
               stddev of 0.01m will put 99.7% of samples within 0.03m of the true
               reading. -->
               <mean>0.0</mean>
               <stddev>0.01</stddev>
            </noise>
         </ray>
         <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_head_hokuyo_controller">
            <topicName>/scan</topicName>
            <frameName>hokuyo_link</frameName>
         </plugin>
      </sensor>
   </gazebo>
   <!--link : https://www.raspberrypi.org/documentation/hardware/camera/-->
   <gazebo reference="camera_rgb_left_frame">
      <sensor name="camera_left" type="camera">
         <always_on>true</always_on>
         <visualize>false</visualize>
         <camera>
            <!-- <horizontal_fov>2.09</horizontal_fov> -->
            <horizontal_fov>1.047</horizontal_fov>
            <image>
               <width>640</width>
               <height>480</height>
               <format>R8G8B8</format>
            </image>
            <clip>
               <near>0.03</near>
               <far>100</far>
            </clip>
         </camera>
         <plugin filename="libgazebo_ros_camera.so" name="camera_controller_left">
            <topicName>camera_left</topicName>
            <alwaysOn>true</alwaysOn>
            <updateRate>30.0</updateRate>
            <cameraName>camera_left</cameraName>
            <frameName>camera_rgb_optical_left_frame</frameName>
            <imageTopicName>rgb/image_raw</imageTopicName>
            <cameraInfoTopicName>rgb/camera_info</cameraInfoTopicName>
            <hackBaseline>0.07</hackBaseline>
            <distortionK1>0.0</distortionK1>
            <distortionK2>0.0</distortionK2>
            <distortionK3>0.0</distortionK3>
            <distortionT1>0.0</distortionT1>
            <distortionT2>0.0</distortionT2>
         </plugin>
      </sensor>
   </gazebo>
   <!--link : https://www.raspberrypi.org/documentation/hardware/camera/-->
   <gazebo reference="camera_rgb_frame">
      <sensor name="camera" type="camera">
         <always_on>true</always_on>
         <visualize>false</visualize>
         <camera>
            <!-- <horizontal_fov>2.09</horizontal_fov> -->
            <horizontal_fov>1.047</horizontal_fov>
            <image>
               <width>640</width>
               <height>480</height>
               <format>R8G8B8</format>
            </image>
            <clip>
               <near>0.03</near>
               <far>100</far>
            </clip>
         </camera>
         <plugin filename="libgazebo_ros_camera.so" name="camera_controller">
            <alwaysOn>true</alwaysOn>
            <updateRate>30.0</updateRate>
            <cameraName>camera</cameraName>
            <frameName>camera_rgb_optical_frame</frameName>
            <imageTopicName>rgb/image_raw</imageTopicName>
            <cameraInfoTopicName>rgb/camera_info</cameraInfoTopicName>
            <hackBaseline>0.07</hackBaseline>
            <distortionK1>0.0</distortionK1>
            <distortionK2>0.0</distortionK2>
            <distortionK3>0.0</distortionK3>
            <distortionT1>0.0</distortionT1>
            <distortionT2>0.0</distortionT2>
         </plugin>
      </sensor>
   </gazebo>
   <!--link : https://www.raspberrypi.org/documentation/hardware/camera/-->
   <gazebo reference="camera_rgb_right_frame">
      <sensor name="camera_right" type="camera">
         <always_on>true</always_on>
         <visualize>false</visualize>
         <camera>
            <!-- <horizontal_fov>2.09</horizontal_fov> -->
            <horizontal_fov>1.047</horizontal_fov>
            <image>
               <width>640</width>
               <height>480</height>
               <format>R8G8B8</format>
            </image>
            <clip>
               <near>0.03</near>
               <far>100</far>
            </clip>
         </camera>
         <plugin filename="libgazebo_ros_camera.so" name="camera_controller_right">
            <topicName>camera_right</topicName>
            <alwaysOn>true</alwaysOn>
            <updateRate>30.0</updateRate>
            <cameraName>camera_right</cameraName>
            <frameName>camera_rgb_optical_right_frame</frameName>
            <imageTopicName>rgb/image_raw</imageTopicName>
            <cameraInfoTopicName>rgb/camera_info</cameraInfoTopicName>
            <hackBaseline>0.07</hackBaseline>
            <distortionK1>0.0</distortionK1>
            <distortionK2>0.0</distortionK2>
            <distortionK3>0.0</distortionK3>
            <distortionT1>0.0</distortionT1>
            <distortionT2>0.0</distortionT2>
         </plugin>
      </sensor>
   </gazebo>
   <!-- in kg-->
   <!--Base Footprint-->
   <link name="base_footprint"/>
   <joint name="base_joint" type="fixed">
      <origin xyz="0 0 0"/>
      <parent link="base_footprint"/>
      <child link="base_link"/>
   </joint>
   <!-- Base Link -->
   <link name="base_link">
      <visual>
         <!-- <origin xyz="-0.15 0 0.1" rpy="0 0 0"/> -->
         <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
         &gt;
      
         <geometry>
            <box size=".485 .43 .15"/>
         </geometry>
         <!-- <material name="orange"/> -->
      </visual>
      <collision name="collision">
         <!-- <origin xyz="-0.15 0 0.1" rpy="0 0 0"/> -->
         <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
         &gt;
      
         <geometry>
            <box size=".485 .43 .15"/>
         </geometry>
      </collision>
      <!-- <collision name="collision">
      <origin xyz="0.15 0.0 -0.075" rpy="1.57 0.0 0.0"/>
      <geometry>
        <cylinder  length="0.03" radius="0.04625"/>
      </geometry>
    </collision>
    <visual name="visual">
      <origin xyz="0.15 0.0 -0.075" rpy="1.57 0.0 0.0"/>
      <geometry>
        <cylinder  length="0.03" radius="0.04625"/>
      </geometry>
    </visual> -->
      <!-- <inertial>
      <mass value="20" />
      <origin xyz="-0.08 0 0" rpy="0 0 0"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1" />
   </inertial> -->
      <inertial>
         <mass value="15"/>
         <origin rpy="0 0 0" xyz="0 0 0"/>
         <!-- <inertia ixx="0.5" ixy="0" ixz="0" iyy="0.5" iyz="0" izz="0.5" /> -->
         <inertia ixx="0.25925" ixy="0" ixz="0" iyy="0.32216" iyz="0" izz="0.52516"/>
      </inertial>
   </link>
   <!-- <link name="caster"> -->
   <!-- <collision name="collision">
      <origin xyz="0.15 0.0 -0.075" rpy="1.57 0.0 0.0"/>
      <geometry>
        <cylinder  length="0.03" radius="0.04625"/>
      </geometry>
    </collision>
    <visual name="visual">
      <origin xyz="-0.325 0.0 -0.075" rpy="0 1.5707 1.5707"/>
      <geometry>
        <cylinder  length="0.03" radius="0.04625"/>
      </geometry>
    </visual> -->
   <!-- </link> -->
   <!-- <joint name="caster_joint" type="continuous">
    <axis xyz="0 0 1"/>
    <parent link="base_link"/>
    <child link="caster"/>
    <origin xyz="0.15  0.0 -0.075" rpy="1.57 0 0"/>
  </joint> -->
   <!-- <link name="caster_support">
    <visual name="visual">
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
    </visual>
    </link> -->
   <!-- <joint type="continuous" name="caster_joint">
    <origin xyz="0 -0.15 0.075" rpy="0 0 0"/>
    <origin xyz="0 0.0 -0.10" rpy="0 1.5707 1.5707"/>
    <origin xyz="0 -0.15 -0.05" rpy="1.57 0 0"/>
    <origin xyz="0.0 0.0 0.0" rpy="1.57 0 0"/>
    <child link="caster"></child>
    <parent link="caster_support"></parent>
    <axis xyz="0 0 1"/>
    <limit effort="100" velocity="100.0"  lower="-5000" upper="5000" />
  </joint> -->
   <link name="left_wheel">
      <collision name="collision">
         <!-- <origin xyz="0 0.0 -0.10" rpy="0 1.5707 1.5707"/> -->
         <geometry>
            <cylinder length="0.03" radius="0.0725"/>
         </geometry>
      </collision>
      <visual name="visual">
         <!-- <origin xyz="0 0.0 -0.10" rpy="0 0 0"/> -->
         <geometry>
            <cylinder length="0.03" radius="0.0725"/>
         </geometry>
      </visual>
      <inertial>
         <mass value="1"/>
         <origin rpy="-1.57 0.0 0.0" xyz="-0.15 0.15 -0.05"/>
         <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.002" iyz="0" izz="0.001"/>
      </inertial>
   </link>
   <joint name="left_wheel_joint" type="continuous">
      <!-- <origin xyz="0 0.15 0.075" rpy="0 0 0"/> -->
      <origin rpy="-1.57 0 0" xyz="-0.15 0.15 -0.05"/>
      <child link="left_wheel"/>
      <parent link="base_link"/>
      <axis xyz="0 0 1"/>
      <limit effort="100" lower="-5000" upper="5000" velocity="100.0"/>
      <dynamics damping="0.1"/>
   </joint>
   <!--link name="visual_right_wheel">
    <visual name="visual">
      <origin xyz="0 0.0 0" rpy="0 1.5707 1.5707"/>
      <geometry>
        <cylinder  length="0.03" radius="0.0725"/>
      </geometry>
    </visual>
  </link>

  <joint type="fixed" name="visual_right_wheel_joint">
    <origin xyz="0.15 -0.15 0.075" rpy="0 0 0"/>
    <child link="visual_right_wheel">visual_right_wheel</child>
    <parent link="base_link">base_link</parent>
    <axis xyz="0 1 0"/>
  </joint-->
   <link name="right_wheel">
      <collision name="collision">
         <!-- <origin xyz="0 0.0 -0.10" rpy="0 1.5707 1.5707"/> -->
         <!-- <origin xyz="0 0.15 -0.05" rpy="1.57 0 0"/> -->
         <geometry>
            <cylinder length="0.03" radius="0.0725"/>
         </geometry>
      </collision>
      <visual name="visual">
         <!-- <origin xyz="0 0.0 -0.10" rpy="0 1.5707 1.5707"/> -->
         <geometry>
            <cylinder length="0.03" radius="0.0725"/>
         </geometry>
      </visual>
      <inertial>
         <mass value="1"/>
         <origin rpy="-1.57 0.0 0.0" xyz="-0.15 0.15 -0.05"/>
         <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.002" iyz="0" izz="0.001"/>
      </inertial>
   </link>
   <joint name="right_wheel_joint" type="continuous">
      <!-- <origin xyz="0 -0.15 0.075" rpy="0 0 0"/> -->
      <!-- <origin xyz="0 0.0 -0.10" rpy="0 1.5707 1.5707"/> -->
      <origin rpy="-1.57 0 0" xyz="-0.15 -0.15 -0.05"/>
      <child link="right_wheel"/>
      <parent link="base_link"/>
      <axis xyz="0 0 1"/>
      <limit effort="100" lower="-5000" upper="5000" velocity="100.0"/>
      <dynamics damping="0.1"/>
   </joint>
   <joint name="hokuyo_joint" type="fixed">
      <axis xyz="1 0 0"/>
      <origin rpy="0 0 0" xyz="0.25 0 0.1"/>
      <parent link="base_link"/>
      <child link="hokuyo_link"/>
   </joint>
   <link name="hokuyo_link">
      <inertial>
         <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
         <mass value="0.2"/>
         <inertia ixx="0.005" ixy="0.0" ixz="0.0" iyy="0.005" iyz="0.0" izz="0.005"/>
      </inertial>
      <visual>
         <origin rpy="0 0 0" xyz="0 0 0"/>
         <geometry>
            <box size="0.05 0.05 0.05"/>
         </geometry>
         <material name="black"/>
      </visual>
   </link>
   <!-- sub: l,r 0,1,2,3 etc -->
   <!-- parent: parent link name -->
   <!-- transX transY transZ: xyz position -->
   <link name="caster_0">
      <visual>
         <origin rpy="0 0 0" xyz="0 0 0"/>
         <geometry>
            <sphere radius="0.04265"/>
         </geometry>
         <material name="Black"/>
      </visual>
      <collision>
         <origin rpy="0 0 0" xyz="0 0 0"/>
         <geometry>
            <sphere radius="0.04265"/>
         </geometry>
      </collision>
      <inertial>
         <mass value="1.0"/>
         <origin xyz="0 0 0"/>
         <!-- <xacro:sphere_inertia m="${caster_mass}" r="${caster_radius}" /> -->
         <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
      </inertial>
   </link>
   <gazebo reference="caster_0">
      <turnGravityOff>false</turnGravityOff>
      <material>Gazebo/Black</material>
      <mu1 value="0.0"/>
      <mu2 value="0.0"/>
   </gazebo>
   <joint name="caster_0_joint" type="fixed">
      <parent link="base_link"/>
      <child link="caster_0"/>
      <origin rpy="0 0 0" xyz="0.15 0.0 -0.075"/>
   </joint>
   <!-- <origin xyz="0.25 0 0.1" rpy="0 0 0"/> -->
   <!-- </xacro:caster> -->
   <transmission name="tran1">
      <type>transmission_interface/SimpleTransmission</type>
      <joint name="left_wheel_joint">
         <hardwareInterface>VelocityJointInterface</hardwareInterface>
      </joint>
      <actuator name="left_motor">
         <hardwareInterface>VelocityJointInterface</hardwareInterface>
         <mechanicalReduction>1</mechanicalReduction>
      </actuator>
   </transmission>
   <transmission name="tran2">
      <type>transmission_interface/SimpleTransmission</type>
      <joint name="right_wheel_joint">
         <hardwareInterface>VelocityJointInterface</hardwareInterface>
      </joint>
      <actuator name="right_motor">
         <hardwareInterface>VelocityJointInterface</hardwareInterface>
         <mechanicalReduction>1</mechanicalReduction>
      </actuator>
   </transmission>
   <joint name="camera_joint" type="fixed">
      <origin rpy="0 0.124 0" xyz="0.223 -0.011 0.565"/>
      <parent link="base_link"/>
      <child link="camera_link"/>
   </joint>
   <link name="camera_link">
      <collision>
         <origin rpy="0 0 0" xyz="0.005 0.011 0.013"/>
         <geometry>
            <box size="0.015 0.030 0.027"/>
         </geometry>
      </collision>
   </link>
   <joint name="camera_rgb_joint" type="fixed">
      <origin rpy="0 0 0" xyz="0.003 0.011 0.009"/>
      <parent link="camera_link"/>
      <child link="camera_rgb_frame"/>
   </joint>
   <link name="camera_rgb_frame"/>
   <joint name="camera_rgb_optical_joint" type="fixed">
      <origin rpy="-1.57 0 -1.57" xyz="0 0 0"/>
      <parent link="camera_rgb_frame"/>
      <child link="camera_rgb_optical_frame"/>
   </joint>
   <link name="camera_rgb_optical_frame"/>
   <joint name="camera_rgb_left_joint" type="fixed">
      <origin rpy="0 0 0.175" xyz="0.003 0.111 0.009"/>
      <parent link="camera_link"/>
      <child link="camera_rgb_left_frame"/>
   </joint>
   <link name="camera_rgb_left_frame"/>
   <joint name="camera_rgb_optical_left_joint" type="fixed">
      <origin rpy="-1.57 0 -1.57" xyz="0 0 0"/>
      <parent link="camera_rgb_left_frame"/>
      <child link="camera_rgb_optical_left_frame"/>
   </joint>
   <link name="camera_rgb_optical_left_frame"/>
   <joint name="camera_rgb_right_joint" type="fixed">
      <origin rpy="0 0 -0.175" xyz="0.003 -0.089 0.009"/>
      <parent link="camera_link"/>
      <child link="camera_rgb_right_frame"/>
   </joint>
   <link name="camera_rgb_right_frame"/>
   <joint name="camera_rgb_optical_right_joint" type="fixed">
      <origin rpy="-1.57 0 -1.57" xyz="0 0 0"/>
      <parent link="camera_rgb_right_frame"/>
      <child link="camera_rgb_optical_right_frame"/>
   </joint>
   <link name="camera_rgb_optical_right_frame"/>
</robot>
